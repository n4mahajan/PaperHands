{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jiahao Luo\\\\Documents\\\\PaperHands\\\\Project\\\\PaperHands\\\\PaperHands\\\\News\\\\News.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Linking from \"react-native-web/dist/exports/Linking\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport axios from 'axios';\nexport default function News() {\n  var _this = this;\n\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      articles = _useState2[0],\n      setArticles = _useState2[1];\n\n  var _useState3 = useState(true),\n      _useState4 = _slicedToArray(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var response, results, shorten;\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(axios.get(\"https://finnhub.io/api/v1/news?category=general&token=c54gglaad3ifdcrdm7u0\"));\n\n            case 2:\n              response = _context.sent;\n              _context.next = 5;\n              return _regeneratorRuntime.awrap(response.data);\n\n            case 5:\n              results = _context.sent;\n              shorten = results.slice(0, 20);\n              setArticles(shorten);\n              setLoading(false);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchData();\n    console.log('here');\n  }, []);\n\n  var OpenURLButton = function OpenURLButton(_ref) {\n    var url = _ref.url,\n        children = _ref.children;\n    var handlePress = useCallback(function _callee() {\n      var supported;\n      return _regeneratorRuntime.async(function _callee$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Linking.canOpenURL(url));\n\n            case 2:\n              supported = _context2.sent;\n\n              if (!supported) {\n                _context2.next = 8;\n                break;\n              }\n\n              _context2.next = 6;\n              return _regeneratorRuntime.awrap(Linking.openURL(url));\n\n            case 6:\n              _context2.next = 9;\n              break;\n\n            case 8:\n              Alert.alert(\"Don't know how to open this URL: \" + url);\n\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }, [url]);\n    return React.createElement(Button, {\n      title: children,\n      onPress: handlePress,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 10\n      }\n    });\n  };\n\n  return React.createElement(ScrollView, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 3\n    }\n  }, articles.map(function (result, key) {\n    return React.createElement(View, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 13\n      }\n    }, React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 12\n      }\n    }, result.headline), React.createElement(Text, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 12\n      }\n    }, result.summary), React.createElement(Image, {\n      style: styles.tinyLogo,\n      source: {\n        uri: result.image\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }\n    }), React.createElement(OpenURLButton, {\n      url: result.url,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 4\n      }\n    }, \"Visit Article\"));\n  }));\n}\nvar styles = StyleSheet.create({\n  tinyLogo: {\n    aspectRatio: 1.5,\n    resizeMode: 'contain'\n  }\n});","map":{"version":3,"sources":["C:/Users/Jiahao Luo/Documents/PaperHands/Project/PaperHands/PaperHands/News/News.js"],"names":["React","useEffect","useState","useCallback","axios","News","articles","setArticles","loading","setLoading","fetchData","get","response","data","results","shorten","slice","console","log","OpenURLButton","url","children","handlePress","Linking","canOpenURL","supported","openURL","Alert","alert","map","result","key","headline","summary","styles","tinyLogo","uri","image","StyleSheet","create","aspectRatio","resizeMode"],"mappings":"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","sourcesContent":["//\r\n//  News\r\n//  PaperHands\r\n//\r\n//  Created by Nikhil, Kiran, Jiahao.\r\n//  Copyright Â© 2018 [Company]. All rights reserved.\r\n//\r\n\r\nimport React,{useEffect,useState,useCallback} from \"react\"\r\nimport { Image, StyleSheet, Text, View,ScrollView,Linking,Button } from \"react-native\"\r\nimport axios from 'axios'\r\n\r\n\r\n\r\nexport default function News (){\r\n\tconst [articles,setArticles]=useState([])\r\n    const [loading,setLoading]=useState(true)\r\n\r\n\tuseEffect(()=>{\r\n\t\tasync function fetchData() {\r\n\t\t\tconst response = await axios.get(\r\n\t\t\t\t\"https://finnhub.io/api/v1/news?category=general&token=c54gglaad3ifdcrdm7u0\"\r\n\t\t\t);\r\n\t\t\tconst results = await response.data\r\n\t\t\tconst shorten = results.slice(0,20)\r\n\t\t\tsetArticles(shorten)\r\n\t\t\tsetLoading(false)\r\n\t\t}\r\n\t\t\r\n\t\tfetchData()\r\n\t\tconsole.log('here')\r\n\t  },[])\r\n\r\n\t  const OpenURLButton = ({ url, children }) => {\r\n\t\tconst handlePress = useCallback(async () => {\r\n\t\t  // Checking if the link is supported for links with custom URL scheme.\r\n\t\t  const supported = await Linking.canOpenURL(url);\r\n\t  \r\n\t\t  if (supported) {\r\n\t\t\t// Opening the link with some app, if the URL scheme is \"http\" the web link should be opened\r\n\t\t\t// by some browser in the mobile\r\n\t\t\tawait Linking.openURL(url);\r\n\t\t  } else {\r\n\t\t\tAlert.alert(`Don't know how to open this URL: ${url}`);\r\n\t\t  }\r\n\t\t}, [url]);\r\n\t  \r\n\t\treturn <Button title={children} onPress={handlePress} />;\r\n\t  };\r\n\t\r\n\treturn (\r\n\t\t<ScrollView>\r\n\t\t\t{articles.map((result,key)=>(\r\n            <View>\r\n          \t<Text>{result.headline}</Text>\r\n          \t<Text>{result.summary}</Text>\r\n          <Image style={styles.tinyLogo} source={{uri:result.image}}/>\r\n\t\t <OpenURLButton url={result.url}>Visit Article</OpenURLButton>\r\n\t\t \t</View>\r\n        ))}\r\n\t\t</ScrollView>\r\n\t)\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n\ttinyLogo: {\r\n\t\taspectRatio: 1.5, \r\n    \tresizeMode: 'contain',\r\n\t\t\r\n\t  },\r\n})\r\n"]},"metadata":{},"sourceType":"module"}