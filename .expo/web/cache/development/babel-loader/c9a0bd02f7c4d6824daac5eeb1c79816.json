{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Jiahao Luo\\\\Documents\\\\PaperHands\\\\Project\\\\PaperHands\\\\PaperHands\\\\Portfolio\\\\Portfolio.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useContext, useState } from \"react\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { AuthContext } from \"../../context/AuthProvider\";\n\nfunction Portfolio() {\n  var _this = this;\n\n  var _useContext = useContext(AuthContext),\n      user = _useContext.user,\n      stocks = _useContext.stocks,\n      balance = _useContext.balance;\n\n  var _useState = useState(balance),\n      _useState2 = _slicedToArray(_useState, 2),\n      value = _useState2[0],\n      setValue = _useState2[1];\n\n  var finnhub = require('finnhub');\n\n  var api_key = finnhub.ApiClient.instance.authentications['api_key'];\n  api_key.apiKey = \"c54gglaad3ifdcrdm7u0\";\n  var finnhubClient = new finnhub.DefaultApi();\n  useEffect(function () {\n    var thing = balance;\n    var keys = Object.keys(stocks);\n    keys.forEach(function _callee(key) {\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              finnhubClient.quote(key, function (error, data, response) {\n                thing += data.c * stocks[key];\n                setValue(thing);\n              });\n\n            case 1:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    });\n  }, []);\n  return React.createElement(View, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 3\n    }\n  }, React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 4\n    }\n  }, \"Portfolio Page\"), React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 4\n    }\n  }, \"The total value of your portfolio is \", value), React.createElement(FlatList, {\n    data: Object.keys(stocks),\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 5\n        }\n      }, item, \":\", stocks[item]);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 4\n    }\n  }));\n}\n\nexport default Portfolio;","map":{"version":3,"sources":["C:/Users/Jiahao Luo/Documents/PaperHands/Project/PaperHands/PaperHands/Portfolio/Portfolio.js"],"names":["React","useEffect","useContext","useState","AuthContext","Portfolio","user","stocks","balance","value","setValue","finnhub","require","api_key","ApiClient","instance","authentications","apiKey","finnhubClient","DefaultApi","thing","keys","Object","forEach","key","quote","error","data","response","c","item"],"mappings":";;;AAQA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,UAAxB,EAAmCC,QAAnC,QAAkD,OAAlD;;;;;;AAEA,SAASC,WAAT;;AAGA,SAASC,SAAT,GAAoB;AAAA;;AACnB,oBAA4BH,UAAU,CAACE,WAAD,CAAtC;AAAA,MAAOE,IAAP,eAAOA,IAAP;AAAA,MAAYC,MAAZ,eAAYA,MAAZ;AAAA,MAAmBC,OAAnB,eAAmBA,OAAnB;;AACA,kBAAuBL,QAAQ,CAACK,OAAD,CAA/B;AAAA;AAAA,MAAOC,KAAP;AAAA,MAAaC,QAAb;;AACA,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMC,OAAO,GAAGF,OAAO,CAACG,SAAR,CAAkBC,QAAlB,CAA2BC,eAA3B,CAA2C,SAA3C,CAAhB;AACAH,EAAAA,OAAO,CAACI,MAAR,GAAiB,sBAAjB;AACA,MAAMC,aAAa,GAAG,IAAIP,OAAO,CAACQ,UAAZ,EAAtB;AAGAlB,EAAAA,SAAS,CAAC,YAAM;AACf,QAAImB,KAAK,GAACZ,OAAV;AACA,QAAMa,IAAI,GAACC,MAAM,CAACD,IAAP,CAAYd,MAAZ,CAAX;AACAc,IAAAA,IAAI,CAACE,OAAL,CAAa,iBAAMC,GAAN;AAAA;AAAA;AAAA;AAAA;AACXN,cAAAA,aAAa,CAACO,KAAd,CAAoBD,GAApB,EAAyB,UAACE,KAAD,EAAQC,IAAR,EAAcC,QAAd,EAA2B;AACpDR,gBAAAA,KAAK,IAAEO,IAAI,CAACE,CAAL,GAAOtB,MAAM,CAACiB,GAAD,CAApB;AACAd,gBAAAA,QAAQ,CAACU,KAAD,CAAR;AACA,eAHA;;AADW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAb;AAMA,GATQ,EASN,EATM,CAAT;AAWA,SACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAEC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAA4CX,KAA5C,CAFD,EAGC,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEa,MAAM,CAACD,IAAP,CAAYd,MAAZ,CAAhB;AAAqC,IAAA,UAAU,EAAE;AAAA,UAAEuB,IAAF,QAAEA,IAAF;AAAA,aAChD,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOA,IAAP,OAAcvB,MAAM,CAACuB,IAAD,CAApB,CADgD;AAAA,KAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHD,CADD;AAWA;;AAED,eAAezB,SAAf","sourcesContent":["//\r\n//  Portfolio\r\n//  PaperHands\r\n//\r\n//  Created by Nikhil, Kiran, Jiahao.\r\n//  Copyright Â© 2018 [Company]. All rights reserved.\r\n//\r\n\r\nimport React,{useEffect,useContext,useState} from \"react\"\r\nimport { Image, StyleSheet, Text, View,FlatList } from \"react-native\"\r\nimport { AuthContext } from \"../../context/AuthProvider\"\r\n\r\n \r\nfunction Portfolio(){\r\n\tconst {user,stocks,balance}=useContext(AuthContext)\r\n\tconst [value,setValue]=useState(balance)\r\n\tconst finnhub = require('finnhub');\r\n\tconst api_key = finnhub.ApiClient.instance.authentications['api_key'];\r\n\tapi_key.apiKey = \"c54gglaad3ifdcrdm7u0\"\r\n\tconst finnhubClient = new finnhub.DefaultApi()\r\n\t\r\n\r\n\tuseEffect(() => { \r\n\t\tvar thing=balance\r\n\t\tconst keys=Object.keys(stocks)\r\n\t\tkeys.forEach(async(key)=>{\r\n\t\t\t finnhubClient.quote(key, (error, data, response) => {\r\n\t\t\t\tthing+=data.c*stocks[key]\r\n\t\t\t\tsetValue(thing) \r\n\t\t\t})\r\n\t\t})   \r\n\t}, [])\r\n\r\n\treturn(\r\n\t\t<View>\r\n\t\t\t<Text>Portfolio Page</Text>\r\n\t\t\t<Text>The total value of your portfolio is {value}</Text>\r\n\t\t\t<FlatList data={Object.keys(stocks)} renderItem={({item})=>(\r\n\t\t\t\t<Text>{item}:{stocks[item]}</Text>\r\n\t\t\t)}/>\r\n\t\t</View>\r\n\r\n\t) \r\n\t\r\n}\r\n\r\nexport default Portfolio\r\n"]},"metadata":{},"sourceType":"module"}