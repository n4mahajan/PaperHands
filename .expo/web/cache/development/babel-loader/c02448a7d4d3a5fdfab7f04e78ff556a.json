{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Jiahao Luo\\\\Documents\\\\PaperHands\\\\Project\\\\PaperHands\\\\components\\\\SearchBar.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport axios from \"axios\";\n\nvar SearchBar = function SearchBar() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      search = _useState2[0],\n      setSearch = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      results = _useState4[0],\n      setResults = _useState4[1];\n\n  useEffect(function () {\n    function fetchData() {\n      var response, _results;\n\n      return _regeneratorRuntime.async(function fetchData$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(search.length > 0)) {\n                _context.next = 11;\n                break;\n              }\n\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(axios.get(\"https://finnhub.io/api/v1/search?q=\" + search + \"&token=btnth1n48v6p0j27i8k0\"));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return _regeneratorRuntime.awrap(response.data);\n\n            case 6:\n              _results = _context.sent;\n              console.log(_results.result);\n              setResults(_results.result.slice(0, 5));\n              _context.next = 12;\n              break;\n\n            case 11:\n              setResults([]);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }\n\n    fetchData();\n  }, [search]);\n  return React.createElement(View, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 9\n    }\n  }, React.createElement(TextInput, {\n    placeholder: \"search stock\",\n    onChangeText: setSearch,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 5\n    }\n  }), React.createElement(FlatList, {\n    data: results,\n    renderItem: function renderItem(_ref) {\n      var item = _ref.item;\n      return React.createElement(Text, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 6\n        }\n      }, item.symbol, \":\", item.description);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }));\n};\n\nexport default SearchBar;","map":{"version":3,"sources":["C:/Users/Jiahao Luo/Documents/PaperHands/Project/PaperHands/components/SearchBar.js"],"names":["React","useEffect","useState","axios","SearchBar","search","setSearch","results","setResults","fetchData","length","get","response","data","console","log","result","slice","item","symbol","description"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,QAAxB,QAAuC,OAAvC;;;;;AAEA,OAAOC,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,SAAS,GAAC,SAAVA,SAAU,GAAI;AAChB,kBAA0BF,QAAQ,CAAC,EAAD,CAAlC;AAAA;AAAA,MAAOG,MAAP;AAAA,MAAeC,SAAf;;AACH,mBAA4BJ,QAAQ,CAAC,EAAD,CAApC;AAAA;AAAA,MAAOK,OAAP;AAAA,MAAgBC,UAAhB;;AAEGP,EAAAA,SAAS,CAAC,YAAI;AAEhB,aAAeQ,SAAf;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,oBACKJ,MAAM,CAACK,MAAP,GAAgB,CADrB;AAAA;AAAA;AAAA;;AAAA;AAAA,+CAEyBP,KAAK,CAACQ,GAAN,yCAAgDN,MAAhD,iCAFzB;;AAAA;AAEQO,cAAAA,QAFR;AAAA;AAAA,+CAGwBA,QAAQ,CAACC,IAHjC;;AAAA;AAGQN,cAAAA,QAHR;AAIEO,cAAAA,OAAO,CAACC,GAAR,CAAYR,QAAO,CAACS,MAApB;AACAR,cAAAA,UAAU,CAACD,QAAO,CAACS,MAAR,CAAeC,KAAf,CAAqB,CAArB,EAAwB,CAAxB,CAAD,CAAV;AALF;AAAA;;AAAA;AAOET,cAAAA,UAAU,CAAC,EAAD,CAAV;;AAPF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAUAC,IAAAA,SAAS;AAET,GAdW,EAcV,CAACJ,MAAD,CAdU,CAAT;AAgBA,SACI,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACJ,oBAAC,SAAD;AAAW,IAAA,WAAW,EAAC,cAAvB;AAAsC,IAAA,YAAY,EAAEC,SAApD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADI,EAEJ,oBAAC,QAAD;AAAU,IAAA,IAAI,EAAEC,OAAhB;AAAyB,IAAA,UAAU,EAAE;AAAA,UAAEW,IAAF,QAAEA,IAAF;AAAA,aACpC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAOA,IAAI,CAACC,MAAZ,OAAqBD,IAAI,CAACE,WAA1B,CADoC;AAAA,KAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFI,CADJ;AASH,CA7BD;;AA+BA,eAAehB,SAAf","sourcesContent":["import React,{useEffect,useState} from 'react'\r\nimport {View,TextInput,FlatList,Text} from 'react-native'\r\nimport axios from \"axios\"\r\n\r\n\r\nconst SearchBar=()=>{\r\n    const [search, setSearch]=useState('')\r\n\tconst [results, setResults]=useState([])\r\n\r\n    useEffect(()=>{\r\n\r\n\t\tasync function fetchData() {\r\n\t\t\tif (search.length > 0){\r\n\t\t\t\tconst response = await axios.get(`https://finnhub.io/api/v1/search?q=${search}&token=btnth1n48v6p0j27i8k0`)\r\n\t\t\t\tconst results = await response.data\r\n\t\t\t\tconsole.log(results.result)\r\n\t\t\t\tsetResults(results.result.slice(0, 5))\r\n\t\t\t}else{\r\n\t\t\t\tsetResults([])\r\n\t\t\t}\r\n\t\t}\r\n\t\tfetchData()\r\n\t\t\r\n\t},[search])\r\n\r\n    return(\r\n        <View>\r\n\t\t\t\t<TextInput placeholder=\"search stock\" onChangeText={setSearch}/>\r\n\t\t\t\t<FlatList data={results} renderItem={({item})=>(\r\n\t\t\t\t\t<Text>{item.symbol}:{item.description}</Text>\r\n\r\n\t\t\t\t)}/>\r\n\t\t</View> \r\n    )\r\n}\r\n\r\nexport default SearchBar"]},"metadata":{},"sourceType":"module"}